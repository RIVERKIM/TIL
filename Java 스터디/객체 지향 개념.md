# 객체 지향 개념 - 스터디 준비

### 절차 지향

- 데이터를 조작하는 코드를 별도로 분리해서 함수나 프로시저와 같은 형태로 만들고 각 프로시저들이 데이터를 조작하는 방식 - 함수
- 다수의 프로시저들이 데이터를 공유하는 방식으로 만들어지기 때문에, 데이터를 중심으로 구현하게 된다.
- 문제점:
    - 데이터 타입이나 의미를 변경해야 할 때, 수정해야 하는 프로시저가 증가.
    - 같은 데이터를 프로시저들이 서로 다른 의미로 사용하는 경우가 발생.
    
    ```java
    // 아래와 같은 변수를 사용하는 프로시저들이 있을 때
    boolean isOn;
    // boolean type을 enum type으로 변경시 프로시저의 변경 발생
    ```
    
    - **결과적으로 프로그램의 규모가 커질수록 수정이 점점 더 어려워짐.**
    
    ---
    

### 객체 지향

- 실세계를 직접적이고 직관적으로 모델링 할 수 있는 패러다임.
- 데이터 및 데이터와 관련된 프로시저를 객체(Object)라고 불리는 단위로 묶음.
- 객체는 다른 객체에 기능을 제공하기 위해 프로시저를 사용하는데, 이 때 프로시저는 자신이 속한 객체의 데이터에만 접근 할 수 있으며, 다른 객체에 속한 데이터에는 접근할 수 없다.
- **객체의 데이터가 변경되더라도 해당 객체만 변화가 집중되고 다른 객체에는 영향을 주지 않음. → 프로그램의 변경이 쉽다.**
- 객체 지향 특징
    - 상속-
    - 다형성-
    - 캡슐화
    - 정보은닉
    - 추상화-
    

**절차지향 → 객체지향 예시**

```java
public class Member {
    private Date expiryDate; // 만료기한
    private boolean male; // 남여 구분
    public Date getExpiryDate() {
        return expiryDate;
    }
    public boolean isMale() {
        return male;
    }
}
```

- Member 가 만료되었을 때 처리 로직

```java

Member member = new Member();
if (member.getExpiryDate().getDate() < System.currentTimeMillis()) {
}
```

- 요구 사항이 변경된 경우 →  여성은 만료 기간 이후에 30일을 더 쓸 수 있게 변경

```java
long day30 = 1000 * 60 * 60 * 24 * 30; // 30일
if ((member.isMale() && member.getExpiryDate() != null
     && member.getExpiryDate().getTime() < System.currentTimeMillis()) 
			|| (!member.isMale() && member.getExpiryDate() != null
            && member.getExpiryDate().getTime() < System.currentTimeMillis())) {
}
```

- 요구사항 변경에 따른 실행 코드가 변했음. → 만약 이 로직이 필요한 곳이 여러곳이라면? → 수정이 빈번히 발생..

**객체 지향으로 처리**

- 회원의 정보를 가져와서 처리하지 말고, 정보를 가진 회원이 만료기간을 알려주도록 변경.

```java
// 회원 코드
public class Member {
    private Date expiryDate; // 만료기한
    private boolean male; // 남여 구분
    public Date getExpiryDate() {
        return expiryDate;
    }
    public boolean isMale() {
        return male;
    }

		public boolean isExpired() { ~~~}
}

// 변경된 실행 코드
if (member.isExpired()) { 
	
}
```

- 이제 요구 사항이 변경되더라도 회원 객체의 메서드만 수정하면 된다.
- 기존의 코드의 변경 없이 요구 사항 변경을 처리할 수 있다.

### 본질적인 의미의 객체 지향

1. **실세계의 관점**

![Untitled](%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A2%E1%84%82%E1%85%A7%E1%86%B7%20-%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%83%E1%85%B5%20%E1%84%8C%E1%85%AE%E1%86%AB%E1%84%87%E1%85%B5%200e3986714aac43c5a18d69b60dfc30eb/Untitled.png)

- 세상의 문제는 너무 복잡하다.
- 따라서 혼자 해결하기 힘들며, 수많은 사람들의 협력이 필요하다.

**역할과 책임**

- 협력을 하는 과정속에서 사람들은 각자의 역할을 부여받는다.(바리스타, 손님, 캐시어 등)
- 여러 사람이 동일한 역할을 수행할 수 있다.  (여러명의 손님, 캐시어, 바리스타 등)
- 역할은 대체 가능하다. (다른 사람이 위의 역할을 대신할 수 있다.)
- 책임을 수행하는 방법은 자율적으로 선택할 수 있다. (바리스타가 커피 만드는 방법은 자기 맘대로)

**요청과 응답**

- 역할을 수행하는데 있어 다른 사람의 협력을 요청하게 된다.
- 요청을 받는 사람은 다른 사람의 요청에 대한 응답을 수행한다.
- 요청과 응답은 연쇄적으로 일어난다.

**협력과 자율성**

- 사람들은 역할을 수행하는데 있어 충분히 협력적이어야 한다. → 다른 사람의 요청에 대한 응답을 해야한다.
- 사람들은 자율적이기에 요청에 대한 응답은 스스로 판단하고 결정해야 한다.

1. **객체의 관점**

**상태와 행동**

- 객체는 협력에 참여하기 위해 행동(Method)이 필요하고, 이 행동을 하는데 필요한 상태(attribute) 정보도 함께 지니고 있어야 한다.
- 객체는 자율성을 갖기 때문에, 객체는 다른 객체가  **무엇을** 수행하는 지 알 수 있으나, **어떻게** 수행하는 지는 알 수 없다.

**협력과 메시지**

- 객체에서 요청과 응답은 메시지 라는 한가지 방법에 의해서 구현된다.
- 객체는 다른 객체와 협력하기 위해 메시지를 전송한다.
- 메시지를 받은 객체는 자신이 이해할 수 있는 메시지인지 판단 후 자신만의 방법으로 메시지에 대한 응답을 한다. 이 방법을 메서드라고 한다.
- 위 상황에서 메시지와 메서드는 분리되어 있다. (요청할 때 사용하는 함수와 실제 실행되는 함수가 같은지는 알 수 없음.)

<aside>
💡  **결론: 시스템은 역할과 책임을 수행하는 객체로 분할 되고 시스템의 기능은 객체 간의 연쇄적인 요청과 응답의 흐름으로 이루어진 협력을 통해 구현된다.**

</aside>

### 예제

- 회원 가입 예제

- 객체 간의 상호작용

![Untitled](%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A2%E1%84%82%E1%85%A7%E1%86%B7%20-%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%83%E1%85%B5%20%E1%84%8C%E1%85%AE%E1%86%AB%E1%84%87%E1%85%B5%200e3986714aac43c5a18d69b60dfc30eb/Untitled%201.png)

- 실제 구현

![Untitled](%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A2%E1%84%82%E1%85%A7%E1%86%B7%20-%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%83%E1%85%B5%20%E1%84%8C%E1%85%AE%E1%86%AB%E1%84%87%E1%85%B5%200e3986714aac43c5a18d69b60dfc30eb/Untitled%202.png)