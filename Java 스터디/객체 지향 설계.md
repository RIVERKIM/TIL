# ê°ì²´ ì§€í–¥ ì„¤ê³„ - ìŠ¤í„°ë”” ì¤€ë¹„

### ìº¡ìŠí™”ì™€ ì •ë³´ì€ë‹‰

- **ìº¡ìŠí™”**
    - ê°ì²´ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì–´ë–»ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ë¥¼ ê°ì¶”ëŠ” ê²ƒì´ë‹¤.
    - **ë‚´ë¶€ì˜ ê¸°ëŠ¥ êµ¬í˜„ì´ ë³€ê²½ë˜ë”ë¼ë„ ê·¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ì½”ë“œëŠ” ì˜í–¥ì„ ë°›ì§€ ì•Šë„ë¡ í•œë‹¤.**
- **ì •ë³´ì€ë‹‰**
    - ìº¡ìŠí™”ì˜ ê°œë… ì¤‘ í•˜ë‚˜, **ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ìì‹ ì˜ ì •ë³´ë¥¼ ìˆ¨ê¸°ê³  ìì‹ ì˜ ì—°ì‚°ë§Œì„ í†µí•˜ì—¬ ì ‘ê·¼ì„ í—ˆìš©í•˜ëŠ” ê²ƒì´ë‹¤.**

**ìº¡ìŠí™” ë°©ë²•ë¡ **

1. **ë°ì´í„°ë¥¼ ë¬¼ì–´ë³´ì§€ ë§ê³  ê·¸ ê¸°ëŠ¥ì„ ì‹¤í–‰í•´ ë‹¬ë¼ê³  ìš”ì²­**
    1. ë°ì´í„°ë¥¼ ì½ëŠ” ê²ƒì€ ë°ì´í„°ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë§Œë“¬.

```java
class Member {
	private String name;

String getName() {}
}

Member member = new Member();
member.name;

member.getName();
```

1. **ê°ì²´ ë©”ì„œë“œ í˜¸ì¶œ ê·œì¹™**
    1. ë©”ì„œë“œì—ì„œ ìƒì„±í•œ ê°ì²´ì˜ ë©”ì„œë“œë§Œ í˜¸ì¶œ
    2. íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ê°ì²´ì˜ ë©”ì„œë“œë§Œ í˜¸ì¶œ
    3. í•„ë“œë¡œ ì°¸ì¡°í•˜ëŠ” ê°ì²´ì˜ ë©”ì„œë“œë§Œ í˜¸ì¶œ

```java
class MemberService {
	private MemberRepository memberRepository;

	public void signUp(MemberInfo memberInfo) {
//íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ê°ì²´ì˜ ë©”ì„œë“œë§Œ í˜¸ì¶œ
		String name = memberInfo.getUsername();
//ìƒì„±í•œ ê°ì²´ì˜ ë©”ì„œë“œë§Œ í˜¸ì¶œ
		Member member = new Member();
		member.setUsername(name);		
// í•„ë“œë¡œ ì°¸ì¡°í•˜ëŠ” ê°ì²´ ë©”ì„œë“œ í˜¸ì¶œ
		memberRepository.save(member)

//cf) ì¶©ì²© ìš”ì²­ì€ ë‹¹ì—°íˆ ì•ˆëœë‹¤. ìœ ì €ì™€ ê´€ë ¨ëœ íŒ€ ê°ì²´ë¥¼ ê°€ì ¸ì™€ì„œ 
// íŒ€ì˜ ì´ë¦„ì„ ìš”ì²­í•˜ëŠ” ê²½ìš°
// ì´ìœ : ìœ„ 3ê°€ì§€ ëª¨ë‘ í•´ë‹¹ ì•ˆë˜ëŠ” ê²½ìš° íŒŒë¼ë¯¸í„°ë¡œ memberInfo ê°ì²´ë¥¼ 
//ë°›ì•˜ì§€ Teamê°ì²´ëŠ” ë°›ì§€ ì•ŠìŒ.
		String teamName = memberInfo.getTeam().getName();

	}
}
```

**ì‹ ë¬¸ ë°°ë‹¬ë¶€ ì˜ˆì œ**

- ì•„ë˜ ì½”ë“œëŠ” ë¬¸ì œê°€ ìˆë‹¤.

```java

public class Wallet {
    private int money;

    public int getTotalMoney() {
        return money;
    }

    public void substractMoney(int debit) {
        money -= debit;
    }
}

public class Customer {
	private Wallet wallet;
	public Wallet getWallet() {
		return wallet;
	}
}

public class Delivery {.
	
	public void getPayment(Customer customer) {
		int payment = 10000;
		Wallet wallet = customer.getWallet();
		if(wallet.getTotalMoney() >= payment) {
			wallet.subtractMoney(payment);
		}else { ~~~}
	}
}
```

**ë³€ê²½ëœ ì½”ë“œ**

```java
public class Customer {
    private Wallet wallet;

    public Wallet getWallet() {
        return wallet;
    }

    public int getPayment(int payment) throws Exception {
        if (wallet == null) throw new Exception("ddf");
        if (wallet.getTotalMoney() >= payment) {
            wallet.substractMoney(payment);
            return payment;
        }
        throw new Exception("");
    }
}

public class Delivery {
	
	public void getPayment(Customer customer) {
		int payment = 10000;
	try {
		customer.getPayment(payment);
	}catch(Exception e) {
	}
}
```

### ì¶”ìƒí™”, ìƒì†, ë‹¤í˜•ì„±

- **ì¶”ìƒí™”**: ì–´ë–¤ ì–‘ìƒ, ì„¸ë¶€ ì‚¬í•­, êµ¬ì¡°ë¥¼ ì¢€ ë” ëª…í™•í•˜ê²Œ ì´í•´í•˜ê¸° ìœ„í•´ íŠ¹ì • ì ˆì°¨ë‚˜ ë¬¼ì²´ë¥¼ ì˜ë„ì ìœ¼ë¡œ ìƒëµí•˜ê±°ë‚˜ ê°ì¶¤ìœ¼ë¡œì¨ ë³µì¡ë„ë¥¼ ê·¹ë³µí•˜ëŠ” ë°©ë²•.
    - **êµ¬ì²´ì ì¸ ì‚¬ë¬¼ì˜ ê³µí†µì ì€ ì·¨í•˜ê³  ì°¨ì´ì ì„ ë²„ë¦¬ëŠ” ì¼ë°˜í™”ë¥¼ í†µí•´ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¬**
    - ì¤‘ìš”í•œ ë¶€ë¶„ì„ ê°•ì¡°í•˜ê¸° ìœ„í•´ ë¶ˆí•„ìš”í•œ ì„¸ë¶€ ì‚¬í•­ì„ ì œê±°í•¨ìœ¼ë¡œì¨ ë‹¨ìˆœí•˜ê²Œ ë§Œë“œëŠ” ê²ƒ
- **ìƒì†**:  **ìƒìœ„ í´ë˜ìŠ¤ì˜ êµ¬í˜„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ì„œ ìƒˆë¡œìš´ êµ¬í˜„ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•.**
    - ìƒìœ„ í´ë˜ìŠ¤ì™€ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” is -a ê´€ê³„ì´ë‹¤.

```java
public class Coupon {
    private int discountPrice;

    public Coupon(int discountPrice) {
        this.discountPrice = discountPrice;
    }

    public int getDiscountPrice() {
        return discountPrice;
    }

    public int calculateDiscountPrice(int price) {
        if(price < discountPrice) {
            return 0;
        }
        return price - discountPrice;
    }
}

public class LimitPriceCoupon extends Coupon{
    private int limitPrice;

    public LimitPriceCoupon(int discountPrice, int limitPrice) {
        super(discountPrice);
        this.limitPrice = limitPrice;
    }

    public int getLimitPrice() {
        return limitPrice;
    }

    @Override
    public int calculateDiscountPrice(int price) {
        if(price < limitPrice)
            return price;

        return super.calculateDiscountPrice(price);
    }
}
```

- ***ë‹¤í˜•ì„±***: í•œ ê°ì²´ê°€ ì—¬ëŸ¬ê°€ì§€ ëª¨ìŠµì„ ê°–ëŠ” ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
    - ì—¬ê¸°ì„œ ëª¨ìŠµì€ íƒ€ì…ì„ ì˜ë¯¸í•œë‹¤.
    - **ì¦‰ ë‹¤í˜•ì„±ì€ í•œ ê°ì²´ê°€ ì—¬ëŸ¬ íƒ€ì…ì„ ê°–ëŠ”ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.**

```java
interface Car {
	void drive();
}

class K3 implements Car {
	void drive() {
~~
	}
}

Car car = new K3();
Car car = new ì•„ë°˜ë–¼();
//ì—ëŸ¬
Car car = new Member();
```

![Untitled](%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%20-%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%83%E1%85%B5%20%E1%84%8C%E1%85%AE%E1%86%AB%E1%84%87%E1%85%B5%20af9fdddb62eb44238e87b042f1cb0670/Untitled.png)

- ìœ„ ê·¸ë¦¼ì€ **ë‹¤í˜•ì„±**ì„ ë‚˜íƒ€ë‚´ê³  ìˆë‹¤.
- ë™ì‹œì— **ìƒì†** ë˜í•œ ë‚˜íƒ€ë‚´ê³  ìˆë‹¤.
- ìš´ì „ì ì…ì¥ì—ì„œëŠ” ê°ê°ì˜ ê°ì²´ëŠ” ëª¨ë‘ ìë™ì°¨ë¼ëŠ” í•˜ë‚˜ì˜ ê°ì²´ë¡œ **ì¶”ìƒí™”** ë˜ì–´ ìˆë‹¤.
- ìë™ì°¨ëŠ” **ì¼ë°˜í™”** ë˜ì–´ìˆë‹¤.
- K3, ì•„ë°˜ë–¼, í…ŒìŠ¬ë¼ ë“±ì€ **íŠ¹ìˆ˜í™”** ë˜ì–´ìˆë‹¤
- **ìš´ì „ìëŠ” ì°¨ëŸ‰ ì¢…ë¥˜ì™€ ìƒê´€ì—†ì´ ìë™ì°¨ ìš´ì „ ë°©ë²•ë§Œ ì•Œë©´ ëœë‹¤. â†’ ìš´ì „ì ì½”ë“œ ë³€ê²½ì´ í•„ìš”ì—†ìŒ.**
- ê°ì²´ ì§€í–¥ì´ ì œê³µí•´ì£¼ëŠ” ê²ƒì€  **êµ¬í˜„ì˜ ìœ ì—°í•¨**ì´ë‹¤.

**ê²°êµ­ íƒ€ì…**

- íƒ€ì…ì€ ê°œë…ê³¼ ê°™ì€ ì˜ë¯¸ì´ë‹¤.
- ì¦‰ íƒ€ì…ì´ë¼ëŠ” ê²ƒì€ ê³µí†µì ì„ ê¸°ë°˜ìœ¼ë¡œ ê°ì²´ë¥¼ ë¬¶ê¸° ìœ„í•œ í‹€
- ê¸°ë³¸ íƒ€ì…(Int, char..)ì— ëŒ€í•´ì„œ ìƒê°í•´ë³´ì
    - ìˆ«ìíƒ€ì…, ë¬¸ì íƒ€ì…ì„ ë‚˜ëˆ´ì§€ë§Œ ê·¼ë³¸ì ìœ¼ë¡œ ë‘˜ì€ ê°™ì€0ê³¼ 1ì˜ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì¼ë¿ì´ë‹¤.
    - í•˜ì§€ë§Œ íƒ€ì…ì„ ì •ì˜í•¨ìœ¼ë¡œì¨ ìš°ë¦¬ëŠ” ë‹¤ë¤„ì•¼ í•˜ëŠ” ìš©ë„ì— ë”°ë¼ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ë‚˜ëˆ´ë‹¤.
    - **ê²°ê³¼ì ìœ¼ë¡œ íƒ€ì…ì„ ì •ì˜í•¨ìœ¼ë¡œì¨ ë°ì´í„°ì˜ ì˜ëª»ëœ ì‚¬ìš©ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.**
- **íƒ€ì…ì˜ íŠ¹ì§•**
    - **íƒ€ì…ì€ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ì–´ì•¼ í•  ì§€ ì •ì˜ ë˜ì–´ ìˆë‹¤.**
        - int íƒ€ì…ì—ì„œ addì™€ string ì—ì„œ addëŠ” ì„œë¡œ ë‹¤ë¥´ê²Œ ì •ì˜ë˜ì–´ ìˆë‹¤.
    - **íƒ€ì…ì—ì„œ ì‹¤ì œ ë°ì´í„°ê°€ ì–´ë–»ê²Œ í‘œí˜„ë˜ê³  ì €ì¥ë˜ëŠ” ì§€ëŠ” ê°ì¶”ì–´ì ¸ ìˆë‹¤.**
        - byteê°€ ì–´ë–»ê²Œ ì €ì¥ë˜ëŠ” ì§€ ì•Œ í•„ìš” ì—†ì´ ì œê³µí•œ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

<aside>
ğŸ’¡ **ê²°ë¡ : ê°ì²´ ì§€í–¥ íƒ€ì… (class, interface ) ë‚˜ ë°ì´í„° íƒ€ì…(Int, String) ì´ë‚˜ ë˜‘ê°™ë‹¤. 
ì‹¤ì œ ê°ì²´ ì§€í–¥ ì„¤ê³„ë„ ê²°êµ­ ìš°ë¦¬ê°€ ë°ì´í„° íƒ€ì…ì„ ì“°ëŠ” ê²ƒì²˜ëŸ¼ í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.**

</aside>

### ê°ì²´ ì„¤ê³„ í•˜ëŠ” ë°©ë²•?

- ìœ„ì˜ íƒ€ì… ë‚´ìš©ì„ ë– ì˜¬ë¦¬ë©´ ëœë‹¤.
- **ì¦‰, ê°™ì€ í–‰ë™ì„ í•˜ëŠ” ê²ƒì€ ê°™ì€ íƒ€ì…ì´ë‹¤.**

**ìƒíƒœ ë§ê³  ê°ì²´ì˜ í–‰ë™ì„ ë¨¼ì € ì •ì˜í•œë‹¤** 

- ë™ì¼í•œ ì±…ì„(í–‰ë™) ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ë™ì¼í•œ íƒ€ì…ì´ë¼ í•  ìˆ˜ ìˆë‹¤.
- ê°™ì€ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê°ì²´ë¼ë„ í–‰ë™ì´ ë‹¤ë¥´ë‹¤ë©´ ì„œë¡œ ë‹¤ë¥¸ ê°ì²´ì´ë‹¤.
- ë™ì¼í•œ ì±…ì„ì´ë€ ê²°êµ­ ë™ì¼í•œ ë©”ì‹œì§€ ìˆ˜ì‹ ì„ í•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

```java
interface MemberService { //ì—­í• 
	void signUp(MemberDto memberDto);
}

class MemberServiceImpl implements MemberService { // ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ì•  ì¤‘ í•œëª….
	MemberRepository memberRepository;

	void signUp(MemberDto memberDto) {
		~~
	}
}

class MemberServiceImpl2 {
	MemberRepository memberRepository;

	void getUserInfo(MemberDto memberDto);
}

//ì‹¤í–‰ ì½”ë“œ

MemberService memberService = new MemberServiceImpl();
//ë¶ˆê°€ëŠ¥, ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…
MemberService memberService = new MemberServiceImpl2();

```

**í–‰ë™ì´ ìƒíƒœë¥¼ ê²°ì •í•œë‹¤.**

- ê°ì²´ì§€í–¥ì  ì„¤ê³„ëŠ” ê°ì²´ê°„ì˜ í˜‘ë ¥ì„ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤.
- ì•±ì—ì„œ í•„ìš”í•œ í˜‘ë ¥ì„ ìƒê°í•œë‹¤.
- í˜‘ë ¥ì— í•„ìš”í•œ í–‰ë™ì´ ë¬´ì—‡ì¸ì§€ ì •ì˜í•œë‹¤.
- í–‰ë™ì„ ìˆ˜í–‰í•  ê°ì²´ë¥¼ ì„ ì •í•œë‹¤.
- **ì¦‰, ê²°ì •í•œ ê°ì²´ê°€ ì í•©í•œ ì§€ ê²°ì •í•˜ëŠ” ê²ƒì€ ê°ì²´ì˜ ìƒíƒœê°€ ì•„ë‹ˆë¼ í–‰ë™ì´ë‹¤.**

### ì„¤ê³„

**ê¸°ëŠ¥ ëª©ë¡**

- íŒŒì¼ì˜ byte ë°ì´í„°ë¥¼ ì½ëŠ”ë‹¤.
- íŒŒì¼ì— byte ë°ì´í„°ë¥¼ ì“´ë‹¤.
- byte ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•´ì„œ ìƒˆë¡œìš´ byte ë°ì´í„°ë¥¼ ìƒì„±í•œë‹¤.
- ì „ì²´ íë¦„ì„ ì œì–´í•œë‹¤.

![Untitled](%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%20-%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%83%E1%85%B5%20%E1%84%8C%E1%85%AE%E1%86%AB%E1%84%87%E1%85%B5%20af9fdddb62eb44238e87b042f1cb0670/Untitled%201.png)

```java

public class FlowController {
    private String fileName;
    
    public void process(){
        FileDataReader reader = new FileDataReader(fileName); // ê°ì²´ ìƒì„±
        byte[] plainBytes = reader.read(); // ë©”ì„œë“œ í˜¸ì¶œ
        
        ByteEncryptor encryptor = new ByteEncryptor(); // ê°ì²´ ìƒì„±
        byte[] encryptedBytes = encryptor.encrypt(plainBytes); // ë©”ì„œë“œ í˜¸ì¶œ
        
        FileDataWriter writer = new FileDataWriter(); // ê°ì²´ ìƒì„±
        writer.write(encryptedBytes); // ë©”ì„œë“œ í˜¸ì¶œ
    }
}
```

- ë§Œì•½ ìš”êµ¬ ì‚¬í•­ì´ ë³€ê²½ ë˜ë©´? íŒŒì¼ ëŒ€ì‹ ì— ì†Œì¼“ì„ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ì½ëŠ” ê²½ìš°

```java
public class FlowController {
	private boolean useFile;
	public FlowController(boolean useFile) {
		this.useFile = useFile;
	}
	public void process() {
		byte[] data = null;
		if (useFile) {
			FileDataReader fileReader = new FileDataReader();
			data = fileReader.read();
		} else {
			SockerDataReader sockerReader = new SockerDataReader();
			data = sockerReader.read();
		}
		...
}'
```

- FlowControllerëŠ” ë°ì´í„°ë¥¼ ì½ëŠ” ê²ƒì—ëŠ” ì±…ì„ì´ ì—†ë‹¤.
- í•˜ì§€ë§Œ ìœ„ì˜ ì½”ë“œëŠ” ë°ì´í„° ì½ê¸°ì˜ ë³€ê²½ì´ FlowControllerì˜ ë³€ê²½ì„ ë°œìƒì‹œì¼°ë‹¤.

```java
interface Reader {
	byte[] read();
}

class FileDataReader implements Reader {}

class SockerDataReader implements Reader {}
```

- ê° ì±…ì„ì—ì„œ ê³µí†µì ì„ ë½‘ì•„ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜

```java
public class FlowController {
	private boolean useFile;
	public FlowController(boolean useFile) {
		this.useFile = useFile;
	}
	public void process() {
		Reader source = null;
		if (useFile)
			source = new FileDataReader();
		else
			source = new SockerDataReader();
...
}
```

- ì¢€ ë‚˜ì•„ì§€ê¸´ í–ˆì§€ë§Œ ì—¬ì „íˆ ë‹¤ë¥¸ ê°ì²´ì— ì±…ì„ì— ì˜í•´ FlowControllerê°€ ë³€ê²½ì´ ì¼ì–´ë‚¨.

```java
public class FlowController {
	private Reader reader;

	FlowController(Reader reader) {
		this.reader = reader;
	}
}
```

**ë¬¸ì œ í•´ê²° ë°©ë²•**

1. Reader ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ë³„ë„ì˜ ê°ì²´ë¡œ ë¶„ë¦¬í•œ í›„ ê·¸ ê°ì²´ë¥¼ ì´ìš©í•´ì„œ Reader ìƒì„±
2. ìƒì„±ìë¥¼ ì´ìš©í•´ì„œ Reader ì…ë ¥ ë°›ê¸° (Dependency Injection) ì˜ì¡´ ê´€ê³„ ì£¼ì….

- ì—¬ê¸°ì„œëŠ” ì¼ë‹¨ 1ë²ˆ ì‚¬ìš©

**ì˜ì¡´ì„± ì£¼ì… ê°ì²´**

```java
public class ReaderFactory {
	public ReaderSource create() {
		if (useFile())
			return new FileDataReader();
		else
			return new SockerDataReader();
	}
	private boolean useFile() {
		String useFileVal = System.getProperty("useFile");
		return useFileVal != null && Boolean.valueOf(useFileVal);
	}
	// ì‹±ê¸€í†¤ íŒ¨í„´ ì ìš©
	private static final ReaderFactory instance = new ReaderFactory();
	public static ReaderFactory getInstance() {
		return instance;
	}

	private ReaderFactory() {}
	...
}
```

**ê²°ê³¼ ì½”ë“œ**

```java
public class FlowController {
	public void process() {
		Reader source = new ReaderFactory.getInstance().create();
		byte[] data = source.read();
		...
	}
}
```